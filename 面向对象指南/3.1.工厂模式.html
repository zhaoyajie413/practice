<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
	</body>
	<script>
		//生产小车
		function Car( options ) {

		  // some defaults
		  this.doors = options.doors || 4;
		  this.state = options.state || "brand new";
		  this.color = options.color || "silver";

		}
		//生产卡车
		function Truck( options){

		  this.state = options.state || "used";
		  this.wheelSize = options.wheelSize || "large";
		  this.color = options.color || "blue";
		}

		//定义汽车工厂
		function VehicleFactory() {}

		//小车类
		VehicleFactory.prototype.vehicleClass = Car;


		VehicleFactory.prototype.createVehicle = function ( options ) {

		  if( options.vehicleType === "car" ){
		    this.vehicleClass = Car;
		  }else{
		    this.vehicleClass = Truck;
		  }

		  return new this.vehicleClass( options );

		};

	//汽车工厂实例
	var carFactory = new VehicleFactory();
	//返回小车实例
	var car = carFactory.createVehicle( {
	            vehicleType: "car",
	            color: "yellow",
	            doors: 6 } );
	</script>
</html>
